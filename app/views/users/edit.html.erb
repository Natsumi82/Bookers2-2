<main>
 <% if @user.errors.any? %>
  <div class="errors" >
   <h3><%= @user.errors.count %>error prohibited this obj from being saved:</h3>
  <% @user.errors.full_messages.each do |message| %>
    <li><%= message %></li>
  <% end %>
   </div>
<% end %>

  <p id="notice"></p>
  <div class= "container">
   <div class="row">
     <div class= "col-lg-5 mx-auto">
      <h2>User info</h2>
      <%= form_with model:@user do |f| %>

       <div class="form-group",name="user[name]">
        <label for="inputName">Name</label>
        <div><%= f.text_field :name, autofocus: true, id:"inputName",placeholder:@user.name %></div>
       </div>

       <div class="form-group",name="user[profile_image]">
       <label for="inputImage">Image</label>
       <div> <%= f.file_field :profile_image, placeholder: "ファイルを選択", accept: "image/*" %></div>
        <% if @user.image.attached? %>
        <%= image_tag @user.image, size: "30x30" %>
        <% else %>
        <%= image_tag 'no_image', size: "30x30" %>
        <% end %>
       </div>

        <div class="form-group", name="user[introduction]">
          <label for="inputIntroduction">Introduction</label>
          <div><%= f.text_field :introduction, autofocus: true, id:"introduction",placeholder:@user.introduction%></div>
        </div>

        <div class="form-group">
          <%= f.submit  class: 'btn btn-success'%>
         </div>
      <% end %>
      </div>
    </div>
  </div>
</main>


